{"version":3,"sources":["main.js"],"names":["loadCSS","style","link","document","createElement","setAttribute","head","appendChild","loadTheme","theme","js","body","pickTheme","themes","URL","window","location","href","searchParams","get","indexOf","toString","toLowerCase","Math","floor","random","length","handleProject","project","event","target","nodeName","preventDefault","desc","querySelector","toExpand","display","handleProjects","projects","querySelectorAll","addEventListener","e","key","classList","add"],"mappings":"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","file":"main.js","sourceRoot":"../../js","sourcesContent":["/**\n *  Personal Site: My humble personal homepage, made with a tiny bit but not much care.\n *  <https://github.com/MattIPv4/Personal-Site/>\n *  Copyright (C) 2021 Matt Cowley (MattIPv4) (me@mattcowley.co.uk)\n *\n *  This program is free software: you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published\n *   by the Free Software Foundation, either version 3 of the License, or\n *   (at your option) any later version.\n *  This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *  You should have received a copy of the GNU General Public License\n *   along with this program. If not, please see\n *   <https://github.com/MattIPv4/Personal-Site/blob/master/LICENSE.md> or <http://www.gnu.org/licenses/>.\n */\n\n// Util func for themes to load their styles\nconst loadCSS = style => {\n    const link = document.createElement('link');\n    link.setAttribute('rel', 'stylesheet');\n    link.setAttribute('href', style);\n    document.head.appendChild(link);\n};\n\n// Load a theme's styling & custom JS\nconst loadTheme = theme => {\n    // Load theme styling\n    loadCSS('css/' + theme + '.css');\n\n    // Load theme custom JS\n    const js = document.createElement('script');\n    js.setAttribute('onload', 'window._theme()');\n    js.setAttribute('src', 'js/' + theme + '.js');\n    document.body.appendChild(js);\n};\n\nconst pickTheme = () => {\n    // Define all themes\n    const themes = [\n        'blue',\n        'crt',\n        'swift'\n    ];\n\n    // Allow URL ?theme selection\n    const url = new URL(window.location.href);\n    const theme = url.searchParams.get('theme');\n    if (theme && themes.indexOf(theme.toString().toLowerCase()) !== -1) {\n        return loadTheme(theme.toString().toLowerCase());\n    }\n\n    // Random theme\n    loadTheme(themes[Math.floor(Math.random() * themes.length)]);\n};\n\nconst handleProject = (project, event) => {\n    // Don't trigger if clicking on link\n    if (event.target.nodeName === 'A') return;\n\n    // Don't do anything else\n    event.preventDefault();\n\n    // Get the desc\n    const desc = project.querySelector('.project-desc');\n    const toExpand = desc.style.display === 'none';\n\n    // Toggle desc visibility\n    desc.style.display = toExpand ? '' : 'none';\n\n    // Toggle aria\n    project.querySelector('.project-info').setAttribute('aria-expanded', toExpand ? 'true' : 'false');\n};\n\nconst handleProjects = () => {\n    // Get all the projects\n    const projects = [...document.querySelectorAll('.project')];\n\n    for (const project of projects) {\n        // Register the click handler\n        project.querySelector('.project-info')\n            .addEventListener('click', e => handleProject(project, e));\n        project.querySelector('.project-info')\n            .addEventListener('keydown', e => (e.key === 'Enter' || e.key === ' ') && handleProject(project, e));\n\n        // Hide the desc by default\n        project.querySelector('.project-desc').style.display = 'none';\n\n        // Enable the hover styles\n        project.querySelector('.project-info').classList.add('has-js');\n    }\n};\n\n// Go!\npickTheme();\nhandleProjects();\n"]}